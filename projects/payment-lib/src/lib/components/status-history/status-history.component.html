<div class="column">
  <h2 class="heading-medium">{{ pageTitle }}</h2>
</div>


@if (errorMessage) {
  <div class="error-summary" role="group" aria-labelledby="failure-error-summary-heading" tabindex="-1">
    <h2 class="heading-medium error-summary-heading" id="failure-error-summary-heading">
      Payment status history could not be retrieved
    </h2>
    <div class="govuk-error-summary__body">
      {{ errorMessage }}
    </div>
  </div>
}

@if (!errorMessage && statuses) {
  <div>
    <table>
      <thead>
        <tr>
          <th>Status</th>
          @if (isTakePayment) {
            <th>Amount</th>
          }
          <th>Date and time</th>
        </tr>
      </thead>
      <tbody>
        @for (status of statuses.status_histories; track status) {
          <tr>
            <td>{{ status.status }}</td>
            @if (isTakePayment) {
              <td>Â£{{ statuses.amount | number:'.2' }}</td>
            }
            <td>{{ status.date_created | date:'dd MMMM yyyy HH:mm:ss'}}</td>
          </tr>
        }
      </tbody>
    </table>
  </div>
}
